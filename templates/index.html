<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">

    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>AssistiveChat </title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" rel="stylesheet">
  	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>

  </head>
  <body>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <div class="container">
      <h1>Welcome to AssistiveChat</h1>
      <br>
      <hr>
      <p class="fs-4">AssistiveChat is an assistive app for persons with disabilities in Kenya & uses innovative natural language processing techniques to create an assistive AI chatbot to teach people with disabilities(PWDs) how to get access to social services for persons with disabilities(PWDs) around their communities, special needs schools, opportunities and more information relating to understanding more about these individuals.</p>
      <br>

      <div class="container">
        <div class="row clearfix">
            <div class="col-lg-12">
                <div class="card chat-app">
                    <div id="plist" class="people-list">
                        <div class="input-group">
                            <h5>Assistive Chat</h5>
                        </div>
                        <ul class="list-unstyled chat-list mt-2 mb-0">
                            <li class="clearfix active">
                                <img src="https://bootdey.com/img/Content/avatar/avatar2.png" alt="avatar">
                                <div class="about">
                                    <div class="name">Kemba from AssistiveChat</div>
                                    <div class="status"> <i class="fa fa-circle online"></i> Online </div>
                                </div>
                            </li>
                
                        </ul>
                    </div>
                    <div class="chat p-3">
                        <div class="chat-header clearfix">
                            <div class="row">
                                <div class="col-lg-6">
                                    <a href="javascript:void(0);" data-toggle="modal" data-target="#view_info">
                                        <img src="https://bootdey.com/img/Content/avatar/avatar2.png" alt="avatar">
                                    </a>
                                    <div class="chat-about">
                                        <h6 class="m-b-0">Kemba from AssistiveChat</h6>
                                        <small>Online</small>
                                    </div>
                                </div>
                        
                            </div>
                        </div>
                        <div class="chat-message clearfix">
                            <div class="input-group mb-0">
                                <input type="text" class="form-control" placeholder="Enter text here..." name="question" id="question">                                     
        
                                <div class="input-group-prepend">
                                    <button class="btn btn-success btn-block" id="submit-button">Send</button>
                                </div>

                            </div>
                            <br>
                            <br>
                            
                          <div class="chat-history">
                              <div class="row">
                                <div class="message" id="response"></div>
                              </div>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <!-- <div class="row">
          <div class="col-lg-9">
            <input class="form-control" type="text" name="question" id="question">
          </div>
          <div class="col-lg-3">
            <button class="btn btn-primary btn-block" id="submit-button">Send</button>
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col">
            <p id="response"></p>
          </div>
        </div> -->

    </div>

    <script src="/static/jquery.min.js" ></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


    <script>
      jQuery(document).ready(function() {

        $("#submit-button").click(function(e) {
          e.preventDefault();


          $.ajax({
              type: "POST",
              url: "/chatbot",
              data: {
                  question: $("#question").val()
              },
              success: function(result) {
                // $("#response").append("<br>Me: "+$("#question").val()+ "<br><br>Kemba: "+result.response);
                $("#response").append("<br>Me: "+$("#question").val()+ "<br><br>Kemba: "+result.response + "<br>");
                $("#question").val()
              },
              error: function(result) {
                  alert('error');
              }
          });
        });
      });
    </script>

<style type="text/css">
  body{
      background-color: #f4f7f6;
      margin-top:20px;
  }
  .card {
      background: #fff;
      transition: .5s;
      border: 0;
      margin-bottom: 30px;
      border-radius: .55rem;
      position: relative;
      width: 100%;
      box-shadow: 0 1px 2px 0 rgb(0 0 0 / 10%);
  }
  .chat-app .people-list {
      width: 280px;
      position: absolute;
      left: 0;
      top: 0;
      padding: 20px;
      z-index: 7
  }
  
  .chat-app .chat {
      margin-left: 280px;
      border-left: 1px solid #eaeaea
  }
  
  .people-list {
      -moz-transition: .5s;
      -o-transition: .5s;
      -webkit-transition: .5s;
      transition: .5s
  }
  
  .people-list .chat-list li {
      padding: 10px 15px;
      list-style: none;
      border-radius: 3px
  }
  
  .people-list .chat-list li:hover {
      background: #efefef;
      cursor: pointer
  }
  
  .people-list .chat-list li.active {
      background: #efefef
  }
  
  .people-list .chat-list li .name {
      font-size: 15px
  }
  
  .people-list .chat-list img {
      width: 45px;
      border-radius: 50%
  }
  
  .people-list img {
      float: left;
      border-radius: 50%
  }
  
  .people-list .about {
      float: left;
      padding-left: 8px
  }
  
  .people-list .status {
      color: #999;
      font-size: 13px
  }
  
  .chat .chat-header {
      padding: 15px 20px;
      border-bottom: 2px solid #f4f7f6
  }
  
  .chat .chat-header img {
      float: left;
      border-radius: 40px;
      width: 40px
  }
  
  .chat .chat-header .chat-about {
      float: left;
      padding-left: 10px
  }
  
  .chat .chat-history {
      padding: 20px;
      border-bottom: 2px solid #fff
  }
  
  .chat .chat-history ul {
      padding: 0
  }
  
  .chat .chat-history ul li {
      list-style: none;
      margin-bottom: 30px
  }
  
  .chat .chat-history ul li:last-child {
      margin-bottom: 0px
  }
  
  .chat .chat-history .message-data {
      margin-bottom: 15px
  }
  
  .chat .chat-history .message-data img {
      border-radius: 40px;
      width: 40px
  }
  
  .chat .chat-history .message-data-time {
      color: #434651;
      padding-left: 6px
  }
  
  .chat .chat-history .message {
      color: #444;
      padding: 18px 20px;
      line-height: 26px;
      font-size: 16px;
      border-radius: 7px;
      display: inline-block;
      position: relative
  }
  
  .chat .chat-history .message:after {
      bottom: 100%;
      left: 7%;
      border: solid transparent;
      content: " ";
      height: 0;
      width: 0;
      position: absolute;
      pointer-events: none;
      border-bottom-color: #fff;
      border-width: 10px;
      margin-left: -10px
  }
  
  .chat .chat-history .my-message {
      background: #efefef
  }
  
  .chat .chat-history .my-message:after {
      bottom: 100%;
      left: 30px;
      border: solid transparent;
      content: " ";
      height: 0;
      width: 0;
      position: absolute;
      pointer-events: none;
      border-bottom-color: #efefef;
      border-width: 10px;
      margin-left: -10px
  }
  
  .chat .chat-history .other-message {
      background: #e8f1f3;
      text-align: right
  }
  
  .chat .chat-history .other-message:after {
      border-bottom-color: #e8f1f3;
      left: 93%
  }
  
  .chat .chat-message {
      padding: 20px
  }
  
  .online,
  .offline,
  .me {
      margin-right: 2px;
      font-size: 8px;
      vertical-align: middle
  }
  
  .online {
      color: #86c541
  }
  
  .offline {
      color: #e47297
  }
  
  .me {
      color: #1d8ecd
  }
  
  .float-right {
      float: right
  }
  
  .clearfix:after {
      visibility: hidden;
      display: block;
      font-size: 0;
      content: " ";
      clear: both;
      height: 0
  }
  
  @media only screen and (max-width: 767px) {
      .chat-app .people-list {
          height: 465px;
          width: 100%;
          overflow-x: auto;
          background: #fff;
          left: -400px;
          display: none
      }
      .chat-app .people-list.open {
          left: 0
      }
      .chat-app .chat {
          margin: 0
      }
      .chat-app .chat .chat-header {
          border-radius: 0.55rem 0.55rem 0 0
      }
      .chat-app .chat-history {
          height: 300px;
          overflow-x: auto
      }
  }
  
  @media only screen and (min-width: 768px) and (max-width: 992px) {
      .chat-app .chat-list {
          height: 650px;
          overflow-x: auto
      }
      .chat-app .chat-history {
          height: 600px;
          overflow-x: auto
      }
  }
  
  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape) and (-webkit-min-device-pixel-ratio: 1) {
      .chat-app .chat-list {
          height: 480px;
          overflow-x: auto
      }
      .chat-app .chat-history {
          height: calc(100vh - 350px);
          overflow-x: auto
      }
  }
  </style>

<script type="text/javascript"></script>

  </body>
</html>